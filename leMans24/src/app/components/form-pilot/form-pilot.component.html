<h1>Ajouter un pilote</h1>

<form #myForm="ngForm" (ngSubmit)="addPilot()">
    
    <div id="my_fieldset">
    <fieldset>
        <label for="firstname">Prénom*</label>
        <input type="text" name="firstname" id="firstname" [(ngModel)]="pilot.firstName" #firstname="ngModel" required>
        <div *ngIf="firstname.errors && myForm.submitted">
            <span *ngIf="firstname.errors?.['required']">Le Prénom du pilote est requis</span>
        </div>    
    </fieldset>

    <fieldset>
        <label for="lastname">Nom*</label>
        <input type="text" name="lastname" id="lastname" [(ngModel)]="pilot.lastName" #lastname="ngModel" required>
        <div *ngIf="lastname.errors && myForm.submitted">
            <span *ngIf="lastname.errors?.['required']">Le Nom du pilote est requis</span>
        </div>    
    </fieldset>

    <fieldset>
        <label for="birthday">Date de naissance*</label>
        <input type="date" name="birthday" id="birthday" [(ngModel)]="pilot.birthday" #birthday="ngModel" required>
        <div *ngIf="birthday.errors && myForm.submitted">
            <span *ngIf="birthday.errors?.['required']">La date de naissance du pilote est requise</span>
        </div>    
    </fieldset>

    <fieldset>
        <label for="height">Taille*</label>
        <input type="number" name="height" id="height" [(ngModel)]="pilot.height" #height="ngModel" required>
        <div *ngIf="height.errors && myForm.submitted">
            <span *ngIf="height.errors?.['required']">La taille du pilote est requise</span>
        </div>    
    </fieldset>


    <fieldset>
        <label for="picture">Image*</label>
        <div class="dimg">
            <input type="file" #selectImage (change)="selectfile($event)">
            <img [src]="url" width="100px" (click)="selectImage.click()"  height="100px" alt=""> 
        </div>      
    </fieldset>

    <fieldset>
        <label for="bio">Biographie*</label>
        <input type="text-area" name="bio" id="bio" [(ngModel)]="pilot.bio" #bio="ngModel" required>
        <div *ngIf="bio.errors && myForm.submitted">
            <span *ngIf="bio.errors?.['required']">La biograpie du pilote est requise</span>
        </div>    
    </fieldset>

    <fieldset>
        <label for="palmares">Palmares*</label>
        <input type="text-area" name="palmares" id="palmares" [(ngModel)]="pilot.palmares" #palmares="ngModel" required>
        <div *ngIf="palmares.errors && myForm.submitted">
            <span *ngIf="palmares.errors?.['required']">Le palmares du pilote est requis</span>
        </div>    
    </fieldset>

    <fieldset>
        <label for="team">Team*</label>
        <select name="team" id="team" [(ngModel)]="pilot.team" #team="ngModel">
        <option *ngFor="let team of teamList" [value]="team.id">
            {{team.name}}
        </option>
        </select>
        <div *ngIf="team.errors && myForm.submitted">
            <span *ngIf="team.errors?.['required']">Le nom du pilote est requis</span>
        </div>    
    </fieldset>

    <div class = "btn">
        <button type="submit">{{textBtnSubmit}}</button>
    </div>

    </div>   
</form>